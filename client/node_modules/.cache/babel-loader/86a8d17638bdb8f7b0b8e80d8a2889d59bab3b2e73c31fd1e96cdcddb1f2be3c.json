{"ast":null,"code":"import _slicedToArray from\"D:/YairGabay/8200/GitHub/Messenger/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormData=require(\"form-data\");function ImageUpload(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),viewImage=_useState6[0],setViewImage=_useState6[1];var handleImageSelect=function handleImageSelect(e){setImage(e.target.files[0]);};var upload=function upload(){var formData=new FormData();formData.append(\"image\",image);axios.post(\"http://localhost:3001/upload\",formData,{headers:{\"Content-Type\":\"multipart/form-data\",id:\"1\"},responseType:\"arraybuffer\"}).then(function(response){var imageData=response.data;var blob=new Blob([imageData],{type:\"image/jpeg\"});var url=URL.createObjectURL(blob);setViewImage(url);}).catch(function(error){console.error(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"uploadcontainer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageSelect}),/*#__PURE__*/_jsx(\"button\",{onClick:upload,children:\"Upload\"}),viewImage&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Uploaded Image:\"}),/*#__PURE__*/_jsx(\"img\",{src:viewImage,alt:\"Uploaded\"})]})]});}export default ImageUpload;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","FormData","require","ImageUpload","_useState","_useState2","_slicedToArray","image","setImage","_useState3","_useState4","imageUrl","setImageUrl","_useState5","_useState6","viewImage","setViewImage","handleImageSelect","e","target","files","upload","formData","append","post","headers","id","responseType","then","response","imageData","data","blob","Blob","type","url","URL","createObjectURL","catch","error","console","className","children","onChange","onClick","src","alt"],"sources":["D:/YairGabay/8200/GitHub/Messenger/client/src/Pages/upload.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nconst FormData = require(\"form-data\");\r\n\r\nfunction ImageUpload() {\r\n  const [image, setImage] = useState(null);\r\n  const [imageUrl, setImageUrl] = useState(\"\");\r\n  const [viewImage, setViewImage] = useState(null);\r\n\r\n  const handleImageSelect = (e) => {\r\n    setImage(e.target.files[0]);\r\n  };\r\n\r\n  const upload = () => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", image);\r\n    axios\r\n      .post(\"http://localhost:3001/upload\", formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n          id: \"1\",\r\n        },\r\n        responseType: \"arraybuffer\",\r\n      })\r\n      .then((response) => {\r\n        const imageData = response.data;\r\n        const blob = new Blob([imageData], { type: \"image/jpeg\" });\r\n        const url = URL.createObjectURL(blob);\r\n        setViewImage(url);\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"uploadcontainer\">\r\n      <input type=\"file\" onChange={handleImageSelect} />\r\n      <button onClick={upload}>Upload</button>\r\n      {viewImage && (\r\n        <div>\r\n          <h2>Uploaded Image:</h2>\r\n          <img src={viewImage} alt=\"Uploaded\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageUpload;\r\n"],"mappings":"+HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC1B,GAAM,CAAAC,QAAQ,CAAGC,OAAO,CAAC,WAAW,CAAC,CAErC,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,IAAAC,SAAA,CAA0BT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAgCd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAkClB,QAAQ,CAAC,IAAI,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAzCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAE9B,GAAM,CAAAG,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,CAAC,CAAK,CAC/BV,QAAQ,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAC7B,CAAC,CAED,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACnB,GAAM,CAAAC,QAAQ,CAAG,GAAI,CAAArB,QAAQ,CAAC,CAAC,CAC/BqB,QAAQ,CAACC,MAAM,CAAC,OAAO,CAAEhB,KAAK,CAAC,CAC/BX,KAAK,CACF4B,IAAI,CAAC,8BAA8B,CAAEF,QAAQ,CAAE,CAC9CG,OAAO,CAAE,CACP,cAAc,CAAE,qBAAqB,CACrCC,EAAE,CAAE,GACN,CAAC,CACDC,YAAY,CAAE,aAChB,CAAC,CAAC,CACDC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAM,CAAAC,SAAS,CAAGD,QAAQ,CAACE,IAAI,CAC/B,GAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACH,SAAS,CAAC,CAAE,CAAEI,IAAI,CAAE,YAAa,CAAC,CAAC,CAC1D,GAAM,CAAAC,GAAG,CAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC,CACrChB,YAAY,CAACmB,GAAG,CAAC,CACnB,CAAC,CAAC,CACDG,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAAC,CACN,CAAC,CAED,mBACEvC,KAAA,QAAKyC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B5C,IAAA,UAAOoC,IAAI,CAAC,MAAM,CAACS,QAAQ,CAAE1B,iBAAkB,CAAE,CAAC,cAClDnB,IAAA,WAAQ8C,OAAO,CAAEvB,MAAO,CAAAqB,QAAA,CAAC,QAAM,CAAQ,CAAC,CACvC3B,SAAS,eACRf,KAAA,QAAA0C,QAAA,eACE5C,IAAA,OAAA4C,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB5C,IAAA,QAAK+C,GAAG,CAAE9B,SAAU,CAAC+B,GAAG,CAAC,UAAU,CAAE,CAAC,EACnC,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAA3C,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}