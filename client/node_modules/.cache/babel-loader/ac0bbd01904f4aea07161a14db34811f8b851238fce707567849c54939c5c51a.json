{"ast":null,"code":"var _jsxFileName = \"D:\\\\YairGabay\\\\8200\\\\GitHub\\\\Messenger\\\\client\\\\src\\\\Pages\\\\NavBar.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport defaultLogo from \"../Resources/Images/defaultLogo.png\";\nimport SearchBar from \"../Components/SearchBar\";\nimport axios from \"axios\";\nimport { login, logout } from \"../authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction NavBar() {\n  _s();\n  const Navigator = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    isAuthenticated,\n    userId,\n    username,\n    logoImage\n  } = useSelector(state => state.auth);\n  useEffect(() => {\n    if (!isAuthenticated) {\n      axios.get(\"http://localhost:3001/auth/validate\").then(response => {\n        console.log(\"validate!!!\");\n        var imageUrl = null;\n        if (response.status === 200) {\n          if (response.data.logoImage) {\n            const buffer = response.data.logoImage.data;\n            var arrayBufferView = new Uint8Array(buffer);\n            var blob = new Blob([arrayBufferView], {\n              type: \"image/png\"\n            });\n            var urlCreator = window.URL || window.webkitURL;\n            imageUrl = urlCreator.createObjectURL(blob);\n          }\n          dispatch(login({\n            userId: response.data.userId,\n            username: response.data.username,\n            logoImage: imageUrl,\n            description: response.data.description\n          }));\n          Navigator(\"/\");\n        }\n      }).catch(err => {\n        if (err.response && err.response.status === 401) {\n          Navigator(\"/login\");\n        }\n      });\n    }\n  }, [isAuthenticated, Navigator, dispatch]);\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    id: \"NavBar\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"NavBarimageFrame\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: logoImage ? logoImage : defaultLogo,\n        id: \"NavBarImageLogo\",\n        alt: \"Profile\",\n        onClick: () => Navigator(`/profile/${username}`)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      id: \"main-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => Navigator(`/profile/${username}`),\n          className: \"AB\",\n          children: \"My Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => Navigator(\"/about\"),\n          children: \"About\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => Navigator(\"/services\"),\n          className: \"AB\",\n          children: \"Services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => Navigator(\"/contact\"),\n          className: \"AB\",\n          children: \"Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"NavBarSearchDiv\",\n      children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(NavBar, \"ipugRg139rjVZ4Q6r9QyNOpKAAU=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = NavBar;\nexport default NavBar;\nvar _c;\n$RefreshReg$(_c, \"NavBar\");","map":{"version":3,"names":["React","useEffect","useNavigate","useSelector","useDispatch","defaultLogo","SearchBar","axios","login","logout","jsxDEV","_jsxDEV","NavBar","_s","Navigator","dispatch","isAuthenticated","userId","username","logoImage","state","auth","get","then","response","console","log","imageUrl","status","data","buffer","arrayBufferView","Uint8Array","blob","Blob","type","urlCreator","window","URL","webkitURL","createObjectURL","description","catch","err","id","children","src","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["D:/YairGabay/8200/GitHub/Messenger/client/src/Pages/NavBar.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport defaultLogo from \"../Resources/Images/defaultLogo.png\";\r\nimport SearchBar from \"../Components/SearchBar\";\r\nimport axios from \"axios\";\r\nimport { login, logout } from \"../authSlice\";\r\nfunction NavBar() {\r\n  const Navigator = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const { isAuthenticated, userId, username, logoImage } = useSelector(\r\n    (state) => state.auth\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      axios\r\n        .get(\"http://localhost:3001/auth/validate\")\r\n        .then((response) => {\r\n          console.log(\"validate!!!\");\r\n          var imageUrl = null;\r\n          if (response.status === 200) {\r\n            if (response.data.logoImage) {\r\n              const buffer = response.data.logoImage.data;\r\n              var arrayBufferView = new Uint8Array(buffer);\r\n              var blob = new Blob([arrayBufferView], { type: \"image/png\" });\r\n              var urlCreator = window.URL || window.webkitURL;\r\n              imageUrl = urlCreator.createObjectURL(blob);\r\n            }\r\n            dispatch(\r\n              login({\r\n                userId: response.data.userId,\r\n                username: response.data.username,\r\n                logoImage: imageUrl,\r\n                description: response.data.description,\r\n              })\r\n            );\r\n            Navigator(\"/\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          if (err.response && err.response.status === 401) {\r\n            Navigator(\"/login\");\r\n          }\r\n        });\r\n    }\r\n  }, [isAuthenticated, Navigator, dispatch]);\r\n\r\n  return (\r\n    <nav id=\"NavBar\">\r\n      <div id=\"NavBarimageFrame\">\r\n        <img\r\n          src={logoImage ? logoImage : defaultLogo}\r\n          id=\"NavBarImageLogo\"\r\n          alt=\"Profile\"\r\n          onClick={() => Navigator(`/profile/${username}`)}\r\n        />\r\n      </div>\r\n      <ul id=\"main-buttons\">\r\n        <li>\r\n          <button\r\n            onClick={() => Navigator(`/profile/${username}`)}\r\n            className=\"AB\"\r\n          >\r\n            My Profile\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => Navigator(\"/about\")}>About</button>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => Navigator(\"/services\")} className=\"AB\">\r\n            Services\r\n          </button>\r\n        </li>\r\n        <li>\r\n          <button onClick={() => Navigator(\"/contact\")} className=\"AB\">\r\n            Contact\r\n          </button>\r\n        </li>\r\n      </ul>\r\n      <div id=\"NavBarSearchDiv\">\r\n        <SearchBar />\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,OAAOC,WAAW,MAAM,qCAAqC;AAC7D,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,EAAEC,MAAM,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC7C,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAMC,SAAS,GAAGZ,WAAW,CAAC,CAAC;EAC/B,MAAMa,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEY,eAAe;IAAEC,MAAM;IAAEC,QAAQ;IAAEC;EAAU,CAAC,GAAGhB,WAAW,CACjEiB,KAAK,IAAKA,KAAK,CAACC,IACnB,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,eAAe,EAAE;MACpBT,KAAK,CACFe,GAAG,CAAC,qCAAqC,CAAC,CAC1CC,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;QAC1B,IAAIC,QAAQ,GAAG,IAAI;QACnB,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;UAC3B,IAAIJ,QAAQ,CAACK,IAAI,CAACV,SAAS,EAAE;YAC3B,MAAMW,MAAM,GAAGN,QAAQ,CAACK,IAAI,CAACV,SAAS,CAACU,IAAI;YAC3C,IAAIE,eAAe,GAAG,IAAIC,UAAU,CAACF,MAAM,CAAC;YAC5C,IAAIG,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACH,eAAe,CAAC,EAAE;cAAEI,IAAI,EAAE;YAAY,CAAC,CAAC;YAC7D,IAAIC,UAAU,GAAGC,MAAM,CAACC,GAAG,IAAID,MAAM,CAACE,SAAS;YAC/CZ,QAAQ,GAAGS,UAAU,CAACI,eAAe,CAACP,IAAI,CAAC;UAC7C;UACAlB,QAAQ,CACNP,KAAK,CAAC;YACJS,MAAM,EAAEO,QAAQ,CAACK,IAAI,CAACZ,MAAM;YAC5BC,QAAQ,EAAEM,QAAQ,CAACK,IAAI,CAACX,QAAQ;YAChCC,SAAS,EAAEQ,QAAQ;YACnBc,WAAW,EAAEjB,QAAQ,CAACK,IAAI,CAACY;UAC7B,CAAC,CACH,CAAC;UACD3B,SAAS,CAAC,GAAG,CAAC;QAChB;MACF,CAAC,CAAC,CACD4B,KAAK,CAAEC,GAAG,IAAK;QACd,IAAIA,GAAG,CAACnB,QAAQ,IAAImB,GAAG,CAACnB,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;UAC/Cd,SAAS,CAAC,QAAQ,CAAC;QACrB;MACF,CAAC,CAAC;IACN;EACF,CAAC,EAAE,CAACE,eAAe,EAAEF,SAAS,EAAEC,QAAQ,CAAC,CAAC;EAE1C,oBACEJ,OAAA;IAAKiC,EAAE,EAAC,QAAQ;IAAAC,QAAA,gBACdlC,OAAA;MAAKiC,EAAE,EAAC,kBAAkB;MAAAC,QAAA,eACxBlC,OAAA;QACEmC,GAAG,EAAE3B,SAAS,GAAGA,SAAS,GAAGd,WAAY;QACzCuC,EAAE,EAAC,iBAAiB;QACpBG,GAAG,EAAC,SAAS;QACbC,OAAO,EAAEA,CAAA,KAAMlC,SAAS,CAAE,YAAWI,QAAS,EAAC;MAAE;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACNzC,OAAA;MAAIiC,EAAE,EAAC,cAAc;MAAAC,QAAA,gBACnBlC,OAAA;QAAAkC,QAAA,eACElC,OAAA;UACEqC,OAAO,EAAEA,CAAA,KAAMlC,SAAS,CAAE,YAAWI,QAAS,EAAC,CAAE;UACjDmC,SAAS,EAAC,IAAI;UAAAR,QAAA,EACf;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,eACLzC,OAAA;QAAAkC,QAAA,eACElC,OAAA;UAAQqC,OAAO,EAAEA,CAAA,KAAMlC,SAAS,CAAC,QAAQ,CAAE;UAAA+B,QAAA,EAAC;QAAK;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACxD,CAAC,eACLzC,OAAA;QAAAkC,QAAA,eACElC,OAAA;UAAQqC,OAAO,EAAEA,CAAA,KAAMlC,SAAS,CAAC,WAAW,CAAE;UAACuC,SAAS,EAAC,IAAI;UAAAR,QAAA,EAAC;QAE9D;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC,eACLzC,OAAA;QAAAkC,QAAA,eACElC,OAAA;UAAQqC,OAAO,EAAEA,CAAA,KAAMlC,SAAS,CAAC,UAAU,CAAE;UAACuC,SAAS,EAAC,IAAI;UAAAR,QAAA,EAAC;QAE7D;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACLzC,OAAA;MAAKiC,EAAE,EAAC,iBAAiB;MAAAC,QAAA,eACvBlC,OAAA,CAACL,SAAS;QAAA2C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACvC,EAAA,CA/EQD,MAAM;EAAA,QACKV,WAAW,EACZE,WAAW,EAC6BD,WAAW;AAAA;AAAAmD,EAAA,GAH7D1C,MAAM;AAiFf,eAAeA,MAAM;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}